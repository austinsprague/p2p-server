{"version":3,"names":[],"mappings":"","sources":["campaign-detail/campaign-detail-service.js"],"sourcesContent":["(function () {\n  'use strict'\n\n  angular\n  .module('campaignDetail')\n  .factory('CampaignDetailService', CampaignDetailService);\n\n  function CampaignDetailService($http, $cookies) {\n\n    return {\n      getProjectsById: function(id) {\n        return $http.get('/api/projects/'+ id).then(function(result) {\n          return result.data;\n        });\n      },\n      getUsers: function() {\n        return $http.get('/api/users').then(function(users) {\n          return users.data;\n        });\n      },\n      getUserById: function(id) {\n        return $http.get('/api/users/'+ id).then(function(user){\n          return user.data;\n        });\n      },\n      getBackedInfo: function(proj_id) {\n        return $http.get('/api/user_projects/backed/'+ proj_id).then(function(data){\n          return data.data;\n        });\n      },\n      createUserCharge: function(backer_id,proj_id,amount,user_id){\n\n        console.log('charged');\n        var userCharge = {};\n        userCharge.backer_id = backer_id;\n        userCharge.proj_id = proj_id;\n        userCharge.amount = amount;\n        userCharge.user_id = user_id;\n\n        return $http.post('/api/user_projects/' + userCharge.proj_id + '/charge', userCharge)\n        .then(function(user){\n          return user;\n        })\n      },\n      fundCampaign: function (proj_id) {\n        return $http.post('/api/user_projects/' + proj_id + '/transfer')\n        .then(function(data){\n          return data;\n        })\n      },\n      getCurrentUser: function() {\n        var sessionCookie= $cookies.get('session');\n        console.log('sessionCookie', sessionCookie);\n        var parsedCookie = JSON.parse(atob(sessionCookie));\n        console.log(parsedCookie);\n        console.log(parsedCookie.passport.user.id);\n        return parsedCookie.passport.user;\n      }\n    }\n  };\n}());\n"],"file":"campaign-detail/campaign-detail-service.js","sourceRoot":"/source/"}