{"version":3,"names":[],"mappings":"","sources":["campaign-detail/controllers/campaign-detail-controller.js"],"sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * @ngdoc object\n   * @name campaignDetail.controller:CampaignDetailCtrl\n   *\n   * @description\n   *\n   */\n  angular\n    .module('campaignDetail')\n    .controller('CampaignDetailCtrl', CampaignDetailCtrl);\n\n  function CampaignDetailCtrl($state, $stateParams, CampaignDetailService, $http) {\n    var vm = this;\n    vm.ended = false;\n    vm.funded = false;\n\n    CampaignDetailService.getProjectsById($stateParams.id).then(function(data) {\n      vm.projectById = data;\n      vm.company_name = data.company_name;\n      vm.img_url = data.img_url;\n    });\n\n    // setInterval(FetchData(vm.ended),1000);\n\n    vm.campaignEnd = function(){\n      console.log('button clicked');\n      vm.ended = true;\n      vm.funded = true;\n      $http.post('/api/user_projects/' + $stateParams.id + '/transfer')\n      .then(function(data){\n        console.log('posted');\n        return data;\n      })\n    };\n    //   CampaignDetailService.fundCampaign($stateParams.id).then(function(){\n    //     console.log('this is funded');\n    //   });\n    // };\n\n    vm.createUserCharge = function(){\n      vm.userCharge = {};\n      vm.userCharge.backer_id = 6;\n      vm.userCharge.proj_id = 4;\n      vm.userCharge.amount = 1000;\n      vm.userCharge.user_id = 3;\n\n      $http.post('/api/user_projects/' + vm.userCharge.proj_id + '/charge', vm.userCharge)\n      .then(function(user){\n        console.log('posted');\n        return user;\n      })\n    }\n  }\n}());\n"],"file":"campaign-detail/controllers/campaign-detail-controller.js","sourceRoot":"/source/"}